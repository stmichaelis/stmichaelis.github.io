<!DOCTYPE html>
<html lang="de">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="Ein Blog, zwei Themen. Die eher
	  technische Seite über das Internet der Dinge, IoT,
	  Automatisierung und Analytics. Und die menschliche Seite, es
	  gibt keine Abkürzung, über Motivation, Autonomie, Wissen,
	  Ziele und Lehre.">
    
    <meta name="author" content="Stefan Michaelis">

    <meta name="twitter:site" content="@stmichaelis">
<meta name="twitter:creator" content="@stmichaelis">

<meta name="twitter:title" content="Stefan Michaelis - Blog" />
<meta name="twitter:description" content="Ein Blog, zwei Themen. Die eher
	  technische Seite über das Internet der Dinge, IoT,
	  Automatisierung und Analytics. Und die menschliche Seite, es
	  gibt keine Abkürzung, über Motivation, Autonomie, Wissen,
	  Ziele und Lehre." />


    
    <title>Stefan Michaelis - Blog</title>

    
    <link href="https://blog.stefan-michaelis.name/iota/index.xml" rel="alternate" type="application/rss+xml" title="Stefan Michaelis - Blog" />
    <link href="https://blog.stefan-michaelis.name/iota/index.xml" rel="feed" type="application/rss+xml" title="Stefan Michaelis - Blog" />
    

    
    <link href="https://blog.stefan-michaelis.name/css/bootstrap.min.css" rel="stylesheet">
    

    
    <link href="https://blog.stefan-michaelis.name/css/clean-blog.min.css" rel="stylesheet">
    <link href="https://blog.stefan-michaelis.name/css/shariff.min.css" rel="stylesheet">
    <link href="https://blog.stefan-michaelis.name/css/clean-blog-custom.css" rel="stylesheet">
    <link href="https://blog.stefan-michaelis.name/css/syntax.css" rel="stylesheet">

    
    
    <link href="https://blog.stefan-michaelis.name/css/font-awesome.min.css" rel="stylesheet">
        <link href="https://blog.stefan-michaelis.name/css/fonts.css" rel="stylesheet">
    

</head>

<body>

    
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
		<a class="navbar-brand" href="//www.stefan-michaelis.name" style="font-family: 'Reenie Beanie';font-size:1.6em;">Stefan Michaelis</a>
            </div>

            
<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
  <ul class="nav navbar-nav navbar-right">
    <li>
      <a href="https://blog.stefan-michaelis.name">Blog</a>
    </li>
    <li>
      <a href="//www.stefan-michaelis.name/technology/de">Projekte</a>
    </li>

    <li>
      <a href="//www.stefan-michaelis.name/contact/de" rel="nofollow">Kontakt</a>
    </li>
  </ul>
</div>


        </div>
        
    </nav>


    
    
    <header class="intro-header" style="background-image: url('https://blog.stefan-michaelis.name/img/iota-bg.jpg')">
      
     <div class="container" style="width: 100%; background: linear-gradient( rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.35) )">
       <div class="row">
         <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
           <div class="site-heading">
             <h1>IoTA</h1>
               <hr class="small">
	       <span class="subheading"><strong>Internet of Things Automation und das lernende Smart Home</strong></span>
           </div>
         </div>
       </div>
     </div>
    </header>

    
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
          
                             <div class="post-preview">
                 <a href="https://blog.stefan-michaelis.name/iota/geocachet/3-der-zusammenbau/">
                      <h2 class="post-title">Geocache Transposed - Teil 3</h2>
                      <h3 class="post-subtitle">Der Zusammenbau</h3>
                 </a>
		 <p>Dies ist Teil 3 über den Bau eines Geocache Transposed (GCT),
einer verschlossenen Box, die nur an einem geheimen Ort geöffnet
wird. Der folgende Beitrag zeigt, wie die Hardwareteile
zusammengefügt werden.</p>

<p>Der GCT benötigt mehrere Ausschnitte für das Display, den
Netzschalter, den Backup-Stromanschluss und eine Abdeckung für den
Schlüssel zum Öffnen der Box. Alle elektronischen Teile sollten im
oberen Deckel aufbewahrt werden, daher ist eine Box mit ausreichend
Platz im Deckel erforderlich. Die Box, die ich benutzt habe, hat 3 cm
im Inneren des Deckels, was ausreicht, um alles hineinzustellen. Der
Rest der Box steht dann zur Verfügung, um die versteckten
Überraschungen zu lagern.</p>

<img src="/images/geocachet/KisteKomplettLoecher_Beschriftung.jpg" alt="Box mit allen Ausschnitten" class="img-responsive center-block">

<div class="caption">Box mit allen Ausschnitten für Schlüsselfach, Einschalter, LCD und Notstrom</div>


<p>Die originale Puzzlebox benutzte einen von einem Servo angetriebenen
Verschluss, um den Deckel geschlossen zu halten. Für meine Version
habe ich mich entschieden, dieses Konzept ein wenig zu ändern: Die
Sicherung der Box von innen macht Sie anfällig für Batterie- oder
Programmierfehler. Im Original ermöglicht ein Backup-Stecker die
Programmierung zu Umgehen und so das Öffnen der Box an beliebiger
Stelle. Stattdessen habe ich die Box mit einem Vorhängeschloss
verschlossen (je größer desto eindrucksvoller) und den Schlüssel in
der oberen Abdeckung verstaut. So kann ich einen Ersatzschlüssel
behalten, falls etwas schief geht. Der Servo entriegelt dann die
Abdeckung im Inneren des Deckels und gibt den Schlüssel frei.</p>

<p>Nachdem die Öffnungen in die Abdeckung geschnitten wurden, werden
die elektronischen Teile auf einer Platte montiert, die später die
Abdeckung abdichtet und das LCD von oben sichtbar macht. Das folgende
Bild zeigt das Layout auf der Platte.</p>

<img src="/images/geocachet/HardwareDeckel_Beschriftung.jpg" alt="Hardware Innendeckel" class="img-responsive center-block">

<div class="caption">Aufbau der Hardware im Innendeckel</div>


<p>Das Verbinden der Teile ist nicht weiter schwierig. Als Stromquelle
wurde eine 9V Blockbatterie verwendet. Die Batterie ist mit der
Eingangsseite des Pololu-Leistungsschalters verlötet, die
Ausgangsseite des Schalters mit dem Arduino verbunden. Zusätzlich ist
der Druckknopf mit dem Netzschalter verbunden. Optional habe ich dem
Netzschalter eine Steckdose parallel zur Stromversorgung
hinzugefügt. Die Steckdose ist von außen zugänglich. Falls die interne
Batterie leer ist, lässt sich eine neue einstecken und die Box ist
wieder betriebsbereit. Dies ist besonders hilfreich, wenn die Box für
eine neue Tour wiederverwendet wird, ohne die Batterie gegen eine neue
zu tauschen.</p>

<p>Alle anderen Teile (LCD, Servo, GPS) sind mit den Datenleitungen an
einen Ein-/Ausgangspin des Arduino angeschlossen, während die
Stromversorgung über den 5V-Ausgang des Arduino-Boards erfolgt. Die
Umwandlung von 9V-Eingang in 5V-Ausgang wird vom Arduino übernommen.
In den meisten Fällen sollte es möglich sein, die Kabel direkt in das
Entwicklungsboard einzustecken. Ausnahmen, bei denen gelötet werden
muss, sind der Anschluss an den Netzschalter, der Anschluss an 5V oder
die Verlängerung von Kabeln, z.B. des GPS-Gerätes. Welche Ausgangspins
an die Geräte angeschlossen werden, spielt dabei keine Rolle. Diese
müssen später in der Software konfiguriert werden.</p>

<p>Etwas schwieriger war die Gestaltung des Schlossmechanismus für den
Schlüssel. Er sollte robust sein, um den Belastungen standzuhalten,
aber dennoch nicht zu schwer für den Servo. Schließlich habe ich zwei
Haken aus gebogenen Metallstreifen an der Schlüssellochabdeckung
befestigt. Der Servo dreht einen zu einem Bogen gebogenen
Metallstreifen, der in verriegelter Position in die Haken passt. Das
obige Bild zeigt den Bogen in geöffneter Position, das folgende Bild
die Haken an der Unterseite der Schlüssellochabdeckung.</p>

<img src="/images/geocachet/KisteDeckelInnen_Beschriftung.jpg" alt="Befestigungsklammern Innendeckel" class="img-responsive center-block">

<div class="caption">Befestigungsklammern im Innendeckel zur Verriegelung</div>


<p>Das Scharnier der Schlüssellochabdeckung wird mit Nieten befestigt, um
Schrauben zu vermeiden. Während die Box natürlich nicht sehr sicher
sein muss, vermeide ich gerne den offensichtlichen Eindruck, dass die
Box mit einem Schraubendreher geöffnet werden könnte.  Wenn alles auf
dem Board befestigt ist, kann es am Deckel der Box befestigt werden
und wir sind bereit. Ich habe dem Board ein USB-Kabel hinzugefügt, um
den Arduino neu programmieren zu können, ohne den Deckel erneut
öffnen zu müssen.</p>

		 <div class="shariff" data-title="Geocache Transposed - Teil 3" data-theme="white" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;mail&quot;]"  data-mail-url="mailto:"></div>
                 <p class="post-meta"><a href="http://www.stefan-michaelis.name">Stefan Michaelis</a> am 07.08.2019
                 </p>
               </div>
               <hr>

          
                             <div class="post-preview">
                 <a href="https://blog.stefan-michaelis.name/iota/geocachet/2-die-hardware/">
                      <h2 class="post-title">Geocache Transposed - Teil 2</h2>
                      <h3 class="post-subtitle">Die Hardware</h3>
                 </a>
		 <p>Dies ist Teil 2 über den Bau eines Geocache Transposed (GCT),
einer verschlossenen Box, die nur an einem geheimen Ort geöffnet
wird. Der folgende Beitrag listet die für den Bau benötigten Teile
auf.</p>

<p><strong>Arduino:</strong> <a href="https://arduino.cc/">https://arduino.cc/</a> Das berühmte Arduino
Open-Source-Mikrocontroller-Board bildet das Herzstück des Caches. Die
Kosten für ein Standard-Entwicklungsboard liegen unter
25,-€. Geschäfte, die das Board zur Verfügung stellen, sind hier zu
finden: <a href="https://store.arduino.cc/distributors">https://store.arduino.cc/distributors</a></p>

<p>Die meisten Firmen bieten auch die anderen elektronischen Bauteile an,
die für den Geocache benötigt werden.  Die Website des
Arduino-Projekts bietet viele Tutorials zum Anschließen von
Geräten an den Controller. Der Arduino besteht aus einem ATMega328 mit
32KByte Flash für Ihr Programm und 1KByte EEPROM zur Speicherung von
Werten, was viel Platz für dieses Projekt bietet. Ich habe die
vorherige Version namens <em>Duemilanove</em> verwendet, während das aktuelle
Board<sup class="footnote-ref" id="fnref:1"><a rel="footnote" href="#fn:1">1</a></sup> <em>Uno</em> heißt, aber beide sollten gut funktionieren.  Der
Controller selbst wird in C++ programmiert, kompiliert und auf das
Board über die IDE per USB hochgeladen. Das Board verfügt über mehrere
Ein-/Ausgangspins und über Buchsen zum einfachen Einstecken der
Kabel. Für die meisten Teile dieses Projekts ist kein Löten
erforderlich.</p>

<p><strong>GPS-Empfänger:</strong> Die Koordinaten der aktuellen Position der Box
werden von einem GPS-Empfänger geliefert. Jeder Empfänger, der die
Daten über eine serielle Verbindung sendet, sollte funktionieren. Für
diese Box habe ich den GPS-Empfänger EM-406 SiRF III von USGlobalSat
verwendet. Die Kosten liegen bei ca. 40,-€. Der Empfänger verfügt über
eine integrierte Antenne und kann im Inneren der Box montiert werden,
sofern die Wände nicht zu dick und nicht aus Metall sind.</p>

<p><strong>LCD:</strong> Das LCD zeigt Statusinformationen und - was am wichtigsten
ist - die Entfernung zum Zielort an. Ich benutzte ein serielles
Display mit 16x2 Zeichen, weiß auf schwarz. Die Kosten betragen
ca. 22,-€, verfügbar z.B. hier:
<a href="http://www.watterott.com/index.php?page=product&amp;info=1336">http://www.watterott.com/index.php?page=product&amp;info=1336</a> Ein Display
mit parallelen Anschlüssen sollte ebenfalls verwendbar sein, da wir
nicht so viele Anschlüsse des Arduino für die anderen Teile
benötigen. Oft sind diese Displays billiger und es gibt Bibliotheken
zur bequemen Ansteuerung.</p>

<p><strong>Netzschalter:</strong> Die Box sollte so viel Strom wie möglich sparen,
insbesondere da die Lösung und das Öffnen Monate dauern kann. Mit
einem Pololu Power Switch<sup class="footnote-ref" id="fnref:2"><a rel="footnote" href="#fn:2">2</a></sup>, siehe
<a href="http://www.pololu.com/catalog/product/750">http://www.pololu.com/catalog/product/750</a>, 6,-€, kann der Arduino mit
einem Druckknopf eingeschaltet werden und der Arduino kann sich selbst
wieder ausschalten. Zu beachten ist, dass es zwei Versionen dieses
Netzschalters gibt, Standard-Spannung (SV) von 4,5V-20V und
Kleinspannung (LV) von 2,5-7,0V. Da ich eine 9V-Batterie zur
Stromversorgung der Box benutzte, kam die SV-Version zum Einsatz.</p>

<p><strong>Servo:</strong> Ein Servomotor wird benötigt, um die Box schließlich an der
richtigen Stelle zu öffnen. Jeder Servo sollte es tun, da wir keine
schweren Hebearbeiten durchführen müssen. Genutzt wurde ein
Hitec HS-311 Servo, der bei einem lokalen Modellbauer für 8,-€
gefunden wurde.</p>

<p><strong>Power-Taste:</strong> Zum Einschalten der Box kann fast jeder billige
Druckknopf verwendet werden. Hier sollte es etwas Ausgefalleneres sein
und so entschied ich mich schließlich für einen beleuchteten
Edelstahlknopf. Mit 10,-€ leider nicht auf der billigen Seite:
<a href="https://www.conrad.de/de/p/tru-components-gq16f-10e-j-b-12v-vandalismusgeschuetzter-drucktaster-48-v-dc-2-a-1-x-aus-ein-ip65-tastend-1-st-701855.html">https://www.conrad.de/de/p/tru-components-gq16f-10e-j-b-12v-vandalismusgeschuetzter-drucktaster-48-v-dc-2-a-1-x-aus-ein-ip65-tastend-1-st-701855.html</a></p>

<p><strong>Verschiedene elektronische Teile:</strong> Für den Zusammenbau sind noch
diverse andere Komponente wie Kabel nötig. Ich habe auch eine Buchse
für den Anschluss einer externen Batterie installiert (Man weiß nie,
wie lange die integrierte hält. Und ich will nicht in der Nähe sein,
falls du Hunderte von Kilometern gefahren bist, nur um die Batterie
leer vorzufinden). Diese Teile summierten sich auf ca. 15,-€.</p>

<p><strong>Weiterer Kleinkram:</strong> Neben den elektronischen Teilen kommt dann
noch anderes Material, wie z.B. ein Vorhängeschloss, Scharniere oder
Nieten hinzu. Für die Kalkulation berücksichtigen wir diese Dinge mit
zusätzlichen 15,-€.</p>

<p><strong>Die Box:</strong> Zu guter Letzt wird die Box benötigt, in der alles
aufbewahrt wird. Das war auch der Gegenstand, der mir die größten
Kopfschmerzen bereitete. Die Box sollte groß genug sein, um viele
Dinge zu verstauen, aber dennoch klein genug, um bequem mitgenommen zu
werden. Bevorzugt wurde Holz, da es für die Ausschnitte einfach zu
handhaben ist und auch ein dezentes Aussehen haben sollte. Es dauerte
Stunden, bis ich viele Geschäfte nach einer passenden Box durchsucht
hatte. Ich war fast kurz davor aufzugeben, als ich eine perfekte
Schachtel auf meinem Schrank sah. Etwas staubig, aber
perfekt. Abgeschätzt 30,-€ falls doch eine Kiste gekauft werden muss.</p>

<p><strong>Summe der Kosten:</strong> Insgesamt belaufen sich die Kosten auf mehr als
170,-€<sup class="footnote-ref" id="fnref:3"><a rel="footnote" href="#fn:3">3</a></sup>. Nicht wirklich ein Schnäppchen, aber die Erfahrung war jeden
Euro wert.</p>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1">Anmerkung: Wie im ersten Post beschrieben basiert diese Artikelserie auf älteren Postings noch ursprünglich bei Google+.
 <a class="footnote-return" href="#fnref:1"> ↩</a></li>
<li id="fn:2">Nicht mehr verfügbar, Alternativen sind aber verlinkt.
 <a class="footnote-return" href="#fnref:2"> ↩</a></li>
<li id="fn:3">Inzwischen sollten 10%-20% mehr veranschlagt werden.
 <a class="footnote-return" href="#fnref:3"> ↩</a></li>
</ol>
</div>

		 <div class="shariff" data-title="Geocache Transposed - Teil 2" data-theme="white" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;mail&quot;]"  data-mail-url="mailto:"></div>
                 <p class="post-meta"><a href="http://www.stefan-michaelis.name">Stefan Michaelis</a> am 31.07.2019
                 </p>
               </div>
               <hr>

          
                             <div class="post-preview">
                 <a href="https://blog.stefan-michaelis.name/iota/geocachet/1-die-story/">
                      <h2 class="post-title">Geocache Transposed - Teil 1</h2>
                      <h3 class="post-subtitle">Die Schatztruhe für unterwegs</h3>
                 </a>
		 <p>Vor langer Zeit sagte mir einmal jemand, dass der Computeringenieur ein schlechter
Beruf ist - um Geschenke für Familie und Freunde zu erschaffen. Maler,
sicher, diese können leicht ein Bild zeichnen und es
verschenken. Musiker, ja, sie können zu einem Geburtstag eine schöne
kleine Melodie spielen oder sogar eine ganze Hymne einem Freund
widmen. Aber wer mag schon Überraschungen mit Computern und Software?
Ich würde das auch so sehen, dass einige Optionen ein wenig geekig sein können,
aber andere können für jeden geeignet sein.  Einer davon ist ein
Geocache Transposed (GCT, Geocachet).</p>

<blockquote>
<p>Dieser Post (und die folgenden) sind die Neuauflage einer alten
Serie von Mini-Postings. Ursprünglich auf Google+ und in Englisch
gepostet sind diese jetzt nach dem Ende von G+ zu schade um für
immer verschwunden zu sein. Die Umsetzung der Box liegt inzwischen
viele Jahre zurück, die Idee dahinter ist aber zeitlos. Soweit
möglich wurden Links auf ihre Gültigkeit geprüft und ggf. angepasst
oder gelöscht.</p>
</blockquote>

<p>Geocaching ist inzwischen ein bekanntes Hobby, das von billigeren und in
Smartphones integrierten GPS-Geräten angetrieben wurde. Beim
Geocaching werden die so genannten Caches an entfernten Orten
ausgeblendet, während die Koordinaten öffentlich sind. Bei Verwendung
eines GPS-Geräts muss der Cache gefunden und in den meisten Fällen
Elemente im Cache ausgetauscht werden. Eine GCT-Box dreht dieses
Konzept auf den Kopf.</p>

<p>Der transponierte Geocache ist der sich bewegende Cache. Wer denkt
nicht gerne an die eigene Kindheit zurück, das Spiel als Piraten und
die Jagd nach geheimen Schätzen. Diesmal trägst jeder die Schatzkiste
mit sich herum und muss das Rätsel lösen um den richtigen Ort zu
finden.  Die Box selbst ist verschlossen, darin befindet sich ein
GPS-Empfänger und die Box öffnet sich nur, wenn sie an einem bestimmten Ort
der Welt aktiviert wird. An der falschen Stelle zeigt das Feld einfach
die Entfernung zum Ziel an, so dass erraten werden muss wohin die
Reise gehen soll. Der Begriff Reverse Geocache dafür und das
ursprüngliche Konzept wurde 2009 von Mikal Hart geprägt:
<a href="http://arduiniana.org/projects/the-reverse-geo-cache-puzzle/">http://arduiniana.org/projects/the-reverse-geo-cache-puzzle/</a> Er
entwarf die Box als Geschenk für die Hochzeit seines Freundes und
hat damit eine Lawine verschiedener Varianten davon ausgelöst.</p>

<p>Der Geocachet ist ein großartiges persönliches Geschenk,
für Hochzeiten, Geburtstage oder Jubiläen. Der Prozess der Erstellung
einer eigenen Box, der Auswahl des geheimen Ortes und der Beobachtung
der Versuche, das Rätsel zu lösen, ist an sich schon ein wunderbare
Sache. Und die Box ist wiederverwendbar, wenn ein neuer
geheimer Ort programmiert wird. Nachdem ich die ursprünglichen Beiträge
über die Geschichte des umgekehrten Geocache gelesen hatte, musste ich
meine eigene Box erstellen. Die folgenden Beiträge beschreiben
meinen Prozess; vielleicht werden sie auch als Inspiration für noch
weitere Puzzleboxen dienen.</p>

		 <div class="shariff" data-title="Geocache Transposed - Teil 1" data-theme="white" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;mail&quot;]"  data-mail-url="mailto:"></div>
                 <p class="post-meta"><a href="http://www.stefan-michaelis.name">Stefan Michaelis</a> am 24.07.2019
                 </p>
               </div>
               <hr>

          
                             <div class="post-preview">
                 <a href="https://blog.stefan-michaelis.name/iota/kreuzvalidierungsfail/">
                      <h2 class="post-title">Kreuzvalidierungsfail</h2>
                      <h3 class="post-subtitle">Prinzipiell alles richtig gemacht - oder eben doch nicht</h3>
                 </a>
		 

<p>Validierung der Prognosegüte von Modellen des maschinellen Lernens
über hochgradige Kreuzvalidierung ist der Standard für zuverlässige
Aussagen. Wie man sich damit leicht selbst auf das Glatteis führen
kann, davon erzählt diese Geschichte.</p>

<h2 id="hintergrund">Hintergrund</h2>

<h3 id="sommerschule-für-maschinelles-lernen-unter-ressourcenbeschränkung">Sommerschule für maschinelles Lernen unter Ressourcenbeschränkung</h3>

<p>Der <a href="https://sfb876.tu-dortmund.de">Sonderforschungsbereich 876</a> -
Große Daten, Kleine Geräte, an der TU Dortmund führt regelmäßig
Sommerschulen zum Thema <em>Maschinelles Lernen unter
Ressourcenbeschränkung</em> durch. Ganz zum Forschungsgebiet des
Sonderforschungsbereichs passend beschäftigen sich die Sommerschulen
damit, wie die Analyse großer Daten, insbesondere auch auf
eingebetteten Systemen und im Verbund mit sehr stark beschränkten
Rechenressourcen, gelingen kann. Jede Sommerschule versucht dabei
neben den eigentlichen Kursen auch einen Hands-On-Teil dazu
anzubieten. Auch die innerhalb kürzester Zeit ausverkaufte
<a href="https://sfb876.tu-dortmund.de/SummerSchool2017/index.html">Sommerschule
2017</a> war
dabei keine Ausnahme.</p>

<img src="/images/phynode/versuchsaufbau.jpg" alt="Versuchsaufbau" class="img-responsive center-block">

<div class="caption">Versuchsaufbau aus mehreren PhyNode-Boxen</div>


<p>Das Szenario war dazu an ein Problem aus der Warenlogistik angelegt: Wie
finde ich im Regal meine Box wieder? Im Versuchsaufbau wurden zwei
kleine Wände aus Warencontainern aufgebaut, wobei jeder Container mit
einem im Projekt <a href="https://sfb876.tu-dortmund.de/SPP/sfb876-a4.html">Ressourcen-effiziente und verteilte Plattformen zur
integrativen
Datenanalyse</a>
entwickelten PhyNode-Board versehen ist.</p>

<h3 id="aufgabe">Aufgabe</h3>

<p>Die <a href="https://ieeexplore.ieee.org/document/7323355">PhyNodes</a> sind
stark ressourcenbeschränkte, autonome und weitestgehend energieautarke
eingebettete Systeme mit einer Anzahl verschiedener Sensoren.</p>

<div class="row">
     <div class="col-lg-6 col-lg-offset-3 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
     	  <img src="/images/phynode/phynode.jpg" class="img-responsive" />
     </div>
</div>


<p>Die Aufgabe der Sommerschule bestand darin, das Lernen von Positionen
von Boxen mit angebrachten PhyNodes für mehr als 20 Positionen als
Labels zu realisieren. Später sollten die Boards selbst durch die
Software auf den Boards ihre eigenen Positionen im Regal vorhersagen
können. Die Teilnehmer erhielten dazu Trainingsdaten mit der bekannten
Position. Die Boards nahmen im Verlauf verschiedene Positionen ein,
d.h. ID des Boards und Position stimmten nicht immer überein. Die
Messreihen zwischen dem Umstecken werden im Folgenden als &ldquo;Experiment&rdquo;
bezeichnet.</p>

<h2 id="features">Features</h2>

<p>Verfügbare Features waren Zeit, Board ID, Temperatur, Luxwerte,
Beschleunigungswerte X, Y, Z, RSSI zur Basistation, das Experiment und
die Position als Label. Positionen bestanden aus zwei Ziffern mit der
Bedeutung Spalte/Zeile, was für die Modellbildung aber keine Rolle
spielte, da die Aufgabe zunächst als Klassifikationsproblem behandelt
wurde.  In Summe standen nach den ersten Experimenten mehr als 330.000
Messungen zur Verfügung.</p>

<h2 id="modellierung">Modellierung</h2>

<p>Um einen ersten Eindruck von der Schwierigkeit des Problems zu
bekommen (These: Das geht gar nicht) bietet es sich an beispielsweise
eine schnelle Analyse mit <a href="https://rapidminer.com/">RapidMiner</a>
auszuprobieren. Die Daten sind damit fix eingelesen und die
wichtigsten Methoden mit ein paar Klicks verfügbar.</p>

<p>Der simple Ansatz ist dann: Daten einfach mit einem RandomForest mit
Standardparametern (10 Bäume) gelernt, 10-fache Kreuzvalidierung und
schauen, wo wir landen.</p>

<img src="/images/phynode/x-validation.png" alt="X-Validation" class="img-responsive center-block">

<div class="caption">Ausschnitt des Vorgehens bei einer 10-fachen Kreuzvalidierung</div>


<p>Die Kreuzvalidierung, insbesondere in 10-facher Ausführung stellt
dabei sicher, dass unter maximaler Ausnutzung der Trainingsdaten ein
sicheres Bild über die zu erwartende Güte gewonnen wird. Die Daten
werden dazu gleichmäßig in 10 Blöcke unterteilt, wobei in jedem
Trainings-/Testlauf ein Block für das Testing zurückbehalten wird,
während die übrigen 90 % zum Training des Verfahrens zur Verfügung stehen.</p>

<img src="/images/phynode/ConfusionMatrix_RF_Accuracy99.png" alt="Confusion Matrix Random Forest" class="img-responsive center-block">

<div class="caption">Ausschnitt der Confusion Matrix unter Einsatz eines Random Forest</div>


<p>Für den Random Forest liefert diese Validierung dann auch eine
Klassifikationsgüte von über 99 %. Ziel erreicht, perfekte
Positionsvorhersage mit einfache Mitteln ist möglich, wir können nach
Hause gehen. Schade um die Aufgabe, für eine Sommerschule war das dann
wohl doch zu einfach. Naja, es blieb immerhin noch das Problem, das
trainierte Modell auch auf die Ultra-Low-Power-Plattformen zu bringen.</p>

<h2 id="das-problem">Das Problem</h2>

<p>Mehr als 99 %, und das ohne Aufwand. Hinterlässt aber irgendwie doch
einen leichten Beigeschmack. Vielleicht lohnt es sich doch einmal
etwas näher hinter die Kulissen zu schauen. Zur einfachen
Interpretierbarkeit zeigt die folgende Abbildung den Ausschnitt aus
einem einfachen Regelmodell anstelle des Random Forest.</p>

<img src="/images/phynode/RuleModel.png" alt="RuleModel" class="img-responsive center-block">

<div class="caption">Ausschnitt eines einfachen Regel-Modells</div>


<p>So einfach sieht das Modell aber eigentlich gar nicht aus. Im
Gegenteil eher überkomplex und overfittet. Auffällig ist die
Einbeziehung der Beschleunigungs-Werte (Acc_x &hellip;). Welche Rolle
sollten diese im statischen Fall, d.h. Boards bewegen sich nicht,
spielen? Eigentlich sollte das Modell unwichtige Attribute selbst
aussortieren.</p>

<p>Es scheint als ob die Beschleunigungs-Werte einen deutlichen Bezug zur
Position <em>und</em> zum Experiment haben, quasi wie ein Fingerabdruck.</p>

<img src="/images/phynode/Experiment_Vs_AccelZ_Vs_Board.png" alt="Experiment Vs AccelZ Vs Board" class="img-responsive center-block">

<div class="caption">Plot von zwei Experimenten (Zeitachse) gegenüber Z-Beschleunigung gegenüber zwei Boards (ID, Farbe)</div>


<p>Der Plot zeigt beispielhaft den Z-Wert der Beschleunigungsmesser für
zwei Boards (rot und blau) für zwei Experimente (entlang der Zeitachse
mit kurzer Unterbrechung zum links und rechts). Die Werte sind im
Mittel stabil, deutlich voneinander trennbar, und unterscheiden sich
zwischen den Boards. Und nach dem Umstecken ändert sich der Z-Wert an
der neuen Position. Was passiert hier? Sind die Sensoren so
empfindlich, dass die Erdbeschleunigung unterschiedliche Höhen sichtbar
macht?</p>

<p>Wohl eher nicht, eine viel ernüchternde Erklärung: Die Boards scheinen
nach dem Umstecken immer leicht <em>schief</em> in den Boxen zu landen, was
die Unterschiede in den Beschleunigungswerten ausmacht und die
eindeutige Identifikation eines Boards an einer bestimmten Position
ermöglicht. Leider sind diese Werte nicht reproduzierbar, damit nur
Rauschen und nicht für ein in der Realität anwendbares Modell
geeignet. Sobald Daten eines Experiments für die Aufteilung der
Kreuzvalidierung für ein Board sowohl im Trainings- als auch im
Testdatensatz vorkommen erzeugen diese den Fingerabdruck dieses einen
Boards. Eigentlich sollten aber die Messdaten unabhängig vom Board
Rückschlüsse auf die Position erlauben. Die Beschleunigungssensoren
codieren damit (fast eindeutig) das Label (Information Leakage).</p>

<p>Und die Situation wird noch schlimmer: In den Daten sind <em>9
Experimente</em> enthalten, d.h. 9 mal Umstecken der PhyNode-Boards an
neue Positionen. In einer 10-fachen stratifizierten Kreuzvalidierung
stecken damit <em>immer</em> sowohl in Trainings- als auch Testdaten Anteile
aus allen Experimenten.</p>

<p>Wird die Kreuzvalidierung dagegen auf Batchweise umgestellt mit dem
Experiment als Attribut für den Train-/Testsplit sehen die Ergebnisse
ganz anders aus. Jetzt wird immer jeweils ein vollständiges Experiment
für den Test zurückgehalten während die anderen 8 Experimente dem
Training dienen. Schon sind es nur noch 10 % Genauigkeit, siehe dazu
wieder einen Ausschnitt der Konfusionsmatrix für einen Random Forest
mit derselben Parametrisierung wie zuvor.</p>

<img src="/images/phynode/ConfusionMatrix_RF_Accuracy10.png" alt="Confusion Matrix mit angepasster Validierung" class="img-responsive center-block">

<div class="caption">Confusion Matrix mit angepasster Validierung über vollständige Experimente</div>


<p>10 % bei mehr als 20 Labeln ist immer noch besser als raten, aber nicht
beeindruckend. Immerhin ist damit zumindest die Basis für eine
korrekte Validierung gelegt und der eigentliche Zyklus aus Modellwahl
und Parametrisierung kann beginnen.</p>

<p>Was sich in dem Szenario dann letztendlich erreichen lässt haben die
Kollegen anschließend in einer Publikation auf der <a href="https://ieeexplore.ieee.org/abstract/document/8435922">Smart SysTech
2018</a>
gezeigt. Mit viel Mühe sind damit immerhin wieder Klassifikationsgüten
von über 80 % möglich.</p>

		 <div class="shariff" data-title="Kreuzvalidierungsfail" data-theme="white" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;mail&quot;]"  data-mail-url="mailto:"></div>
                 <p class="post-meta"><a href="http://www.stefan-michaelis.name">Stefan Michaelis</a> am 14.11.2018
                 </p>
               </div>
               <hr>

          
          
          <ul class="pager">
	    
            <li class="next">
              <a href="/iota/">Neuer &rarr;</a>
            </li>
	    
	    
	    <li class="previous">
              <a href="/iota/page/3/">&larr; Älter</a>
            </li>
	    
          </ul>
        </div>
      </div>
    </div>

   
    <footer>
      <div class="container">
          <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <ul class="list-inline text-center">
		
		<li>
                  <a href="https://blog.stefan-michaelis.name/iota/index.xml" type="application/rss+xml" target="_blank">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                    </span>
                  </a>
		</li>
		
		<li>
                  <script language="Javascript" type="text/javascript">
		    <!--
			document.write('<a href="mai');
			document.write('lto');
			document.write(':&#105;&#110;&#102;&#111;');
			document.write('@');
			document.write('&#115;&#116;&#101;&#102;&#97;&#110;&#45;&#109;&#105;&#99;&#104;&#97;&#101;&#108;&#105;&#115;&#46;&#110;&#97;&#109;&#101;">');
			
</script>
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                    </span>
                    <script language="Javascript" type="text/javascript">
		    <!--
			document.write('<\/a>');
			
		    </script>		
		</li>
		<li>
                  <a href="https://www.xing.com/profile/Stefan_Michaelis5">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-xing fa-stack-1x fa-inverse"></i>
                    </span>
                  </a>
		</li>
		<li>
                  <a href="https://de.linkedin.com/in/stefanmichaelis">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                    </span>
                  </a>
		</li>
		<li>
                  <a href="https://twitter.com/stmichaelis">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                    </span>
                  </a>
		</li>
		<li>
                  <a href="https://github.com/stmichaelis">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                    </span>
                  </a>
		</li>
              </ul>
	      <p class="copyright text-muted"><a href="//www.stefan-michaelis.name/contact/de" rel="nofollow">Impressum</a>
		<a href="//www.stefan-michaelis.name/contact/de#privacy" rel="nofollow">Datenschutz</a>
	      </p>
            </div>
          </div>
	</div>
    </footer>

    
    
    
    
    <script src="https://blog.stefan-michaelis.name/js/jquery.min.js"></script>

    
    
    
    <script src="https://blog.stefan-michaelis.name/js/bootstrap.min.js"></script>

    
    <script src="https://blog.stefan-michaelis.name/js/clean-blog.js"></script>
    <script src="https://blog.stefan-michaelis.name/js/shariff.min.js"></script>

    

</body>

</html>

