<!DOCTYPE html>
<html lang="de">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Ein Blog, zwei Themen. Die eher
	  technische Seite über das Internet der Dinge, IoT,
	  Automatisierung und Analytics. Und die menschliche Seite, es
	  gibt keine Abkürzung, über Motivation, Autonomie, Wissen,
	  Ziele und Lehre.">
    <meta name="author" content="Stefan Michaelis">

    <title>Stefan Michaelis</title>

    

    
    
    <link crossorigin='anonymous' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css' integrity='sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=' rel='stylesheet'/>

    
    <link href="https://blog.stefan-michaelis.name/css/clean-blog.min.css" rel="stylesheet">
    <link href="https://blog.stefan-michaelis.name/css/shariff.min.css" rel="stylesheet">
    <link href="https://blog.stefan-michaelis.name/css/clean-blog-custom.css" rel="stylesheet">

    
    <link crossorigin='anonymous' integrity='sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=' href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Reenie+Beanie' rel='stylesheet' type='text/css'>

</head>

<body>

    
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
		<a class="navbar-brand" href="//www.stefan-michaelis.name" style="font-family: 'Reenie Beanie';font-size:1.6em;">Stefan Michaelis</a>
            </div>

            
<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
  <ul class="nav navbar-nav navbar-right">
    <li>
      <a href="https://blog.stefan-michaelis.name">Blog</a>
    </li>
    <li>
      <a href="//www.stefan-michaelis.name/technology/de">Projekte</a>
    </li>

    <li>
      <a href="//www.stefan-michaelis.name/contact/de" rel="nofollow">Kontakt</a>
    </li>
  </ul>
</div>


        </div>
        
    </nav>


    
    
    <header class="intro-header" style="background-image: url('https://blog.stefan-michaelis.name/img/home-bg.jpg')">
    
      <div class="container" style="width: 100%; background: linear-gradient( rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.35) )">
        <div class="row">
           <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
             <div class="post-heading">
               <h1>Der Feind in meinem Haus</h1>
               <h2 class="subheading">Wenn die eigenen Geräte eine DoS-Attacke ausführen</h2>
             </div>
           </div>
        </div>
      </div>
    </header>

    
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                  <p>Über seinen Internet-Provider zu schimpfen ist immer en vogue. Zu
langsam, bringt nicht die vereinbarte Geschwindigkeit und
überhaupt. Auch wenn schnelles Internet für uns ein Traum ist,
zumindest stabil sollte es sein. Und das ist es nicht. Seit gefühlt
schon ewig ist der DSL-Anschluss vom Verlust genau eben dieser
Außenanbindung geprägt. Nicht immer, aber so oft, dass es nervt. Und
ebenso scheinen die Störungen mehr zu werden, so dass teilweise
minutenlang keine Internetverbindung zustande kommt. Das Eventlog
zeigt keine Auffälligkeiten, nur Ping-Pong aus Aufbau und Verlust der
WAN-Verbindung.</p>

<p>Schnell ist das auf Provider und/oder den billigen Standardrouter
geschoben. In diesem Fall Vodafone mit einer Easybox 804 (die in der
Bedienung gar keinen so schlechten Eindruck macht, das Wichtigste ist da).</p>

<p>Bevor man allerdings direkt ein Ticket beim Provider aufmacht erst
einmal ausschließen, dass der Nutzer zu dumm ist. Also:</p>

<ol>
<li>Kabel in eine andere Buchse der TAE-Einheit gesteckt. Vielleicht
sind die Kontakte korrodiert.</li>
<li>Nach Routerupdates suchen (keine vorhanden).</li>
<li>Router komplett zurücksetzen (natürlich vorher die Einstellungen
sichern, insbesondere die WLAN-Passwörter).
<br /></li>
</ol>

<p>Dumm nur, wenn man sich beim letzteren für super organisiert hält, den
Ordner mit den Unterlagen aus dem Schrank zieht und &hellip; <em>nach</em>
Zurücksetzen feststellt, dass dort die Zugangsdaten nicht vorhanden
sind. Also, jetzt gar kein Internet mehr und keine Möglichkeit dieses
wieder in Betrieb zu nehmen. Sonntag Abend um 22.30 Uhr.</p>

<p>Aber der Provider hat eine kostenlose 24/7-Hotline. Die Frage nach dem
Kundenpasswort löst zwar eher Fragezeichen bei mir im Kopf aus (ist
bestimmt bei den Zugangsdaten), aber durch Beantwortung diverser
anderer Fragen ist die Identität letztendlich geklärt. Problem
geschildert und neue Zugangsdaten per SMS innerhalb der nächsten 15
Minuten versprochen bekommen. Hat dann doch länger gedauert, aber am
nächsten Morgen waren sie da. Schnell eingegeben und alles geht
wieder. Über den Support lässt sich schon einmal nicht meckern. Die
Zugangsdaten habe ich dann übrigens in einer Email gefunden. Allein
aus Sicherheitsgründen hätte ich geschworen, die sind damals per
Briefpost gekommen.</p>

<p>Am nächsten Abend die Ernüchterung, alles ist so stabil, oder eben
nicht, wie vorher. Der Plan: Ein Ticket beim Provider wegen defekten
Routers oder defekter Anbindung eröffnen lassen.</p>

<p>Und dann beim Stöbern einen
<a href="http://www.androidpolice.com/2018/01/14/google-home-max-appears-killing-wifi-networks/">Bericht</a>
gefunden in dem über den <em>Google Home Max</em> und das massive Aussenden
von Multicastpaketen berichtet wird, die den Router zum Absturz
bringen können. Und anscheinend sind auch andere Cast-fähige Geräte
(Chromecast, Android-Smartphones) davon betroffen. Aus dem Gedächtnis
hätten sich die Probleme auch ungefähr zu dem Zeitpunkt verschlimmert
als der neueste Smartphone-Zuwachs ins Netz gekommen ist.</p>

<p>Also nachschauen. Wireshark anwerfen und tatsächlich, da sind sie, die
gefürchteten mDNS-Pakete. Ca. 60% des gesamten Datenverkehrs. Und
gemessen lediglich kabelgebunden an einem normalen PC.</p>

<img src="/images/pakettrace.png" alt="Pakettrace" class="img-responsive">

<p>Im zeitlichen Verlauf gut zu erkennen ist die Spitze direkt nach dem
Einschalten des Smartphones für nur einige wenige Sekunden. Wer weiß, was
noch alles über die Luftschnittstelle gegangen ist und schon gar nicht
mehr weiter geleitet wurde. Eine Erklärung wäre dies auch, warum sich
das Smartphone direkt nach dem Aufwecken sehr zäh in der Bedienung
anfühlt. Wenn es doch erst einmal tausende Pakete versenden muss&hellip;</p>

<img src="/images/paketgraph.png" alt="Paketgraph" class="img-responsive">

<p>Verursacher ist hier ein relativ altes Nexus 5 mit Android 6,
Marshmallow. Die meisten Berichte konzentrieren sich auf Geräte mit
Oreo, aber mindestens Nougat.</p>

<p>Als erste Gegenmaßnahme die Chromecast vom Netz getrennt und die
Google Home-App, die für die Inbetriebnahme und Ansteuerung der
Chromecast zuständig ist, auf allen Smartphones
deinstalliert. Geholfen hat es nichts, die Pakete kommen trotzdem
weiter angeflogen. Entweder die Funktion ist tief im System verankert
oder die anderen Cast-fähigen Apps (Youtube&hellip;) lösen das Problem auch
aus.</p>

<p>Abhilfe schaffen soll ein <a href="https://www.heise.de/newsticker/meldung/Bugfix-Google-behebt-Patzer-in-Chromecast-und-Google-Home-3946037.html">Update der Google Play
Dienste</a>. Mal
schauen, wann dieses überall eingetroffen ist. Den Fehler beheben soll
Version
<a href="https://www.xda-developers.com/google-home-chromecast-connectivity-issues/">11.9.74</a>,
aktuell ist auf den Telefonen aber noch 11.9.51.</p>

<p>Ob dies dann die Wurzel allen Übels war und sich die Situation bessert
bleibt abzuwarten. Auf ein Routerupdate zu hoffen, das besser mit
dieser ungewollten Denial-of-Service-Attacke im eigenen Netz umgeht,
dürfte länger dauern.</p>

		  <div class="shariff" data-title="Der Feind in meinem Haus" data-theme="white" data-services="[&quot;whatsapp&quot;,&quot;facebook&quot;,&quot;twitter&quot;,&quot;googleplus&quot;,&quot;mail&quot;]" data-mail-url="mailto:"></div>
		  <p class="post-meta"><a href="http://www.stefan-michaelis.name">Stefan Michaelis</a> am 22.01.2018</p>
		  
		  <ul class="pager">
		    
		    
		  </ul>
                </div>
            </div>
        </div>
    </article>

   
    <footer>
      <div class="container">
          <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
              <ul class="list-inline text-center">
		
		<li>
                  <script language="Javascript" type="text/javascript">
		    <!--
			document.write('<a href="mai');
			document.write('lto');
			document.write(':&#105;&#110;&#102;&#111;');
			document.write('@');
			document.write('&#115;&#116;&#101;&#102;&#97;&#110;&#45;&#109;&#105;&#99;&#104;&#97;&#101;&#108;&#105;&#115;&#46;&#110;&#97;&#109;&#101;">');
			
</script>
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                    </span>
                    <script language="Javascript" type="text/javascript">
		    <!--
			document.write('<\/a>');
			
		    </script>		
		</li>
		<li>
                  <a href="https://www.xing.com/profile/Stefan_Michaelis5">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-xing fa-stack-1x fa-inverse"></i>
                    </span>
                  </a>
		</li>
		<li>
                  <a href="https://de.linkedin.com/in/stefanmichaelis">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                    </span>
                  </a>
		</li>
		<li>
                  <a href="https://plus.google.com/+StefanMichaelis">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-google-plus fa-stack-1x fa-inverse"></i>
                    </span>
                  </a>
		</li>
		<li>
                  <a href="https://twitter.com/stmichaelis">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                    </span>
                  </a>
		</li>
		<li>
                  <a href="https://github.com/stmichaelis">
                    <span class="fa-stack fa-lg">
                      <i class="fa fa-circle fa-stack-2x"></i>
                      <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                    </span>
                  </a>
		</li>
              </ul>
            </div>
          </div>
	</div>
    </footer>

    
    
    
    <script crossorigin='anonymous' integrity='sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=' src='https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js'></script>

    
    
    <script crossorigin='anonymous' integrity='sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=' src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js'></script>

    
    <script src="https://blog.stefan-michaelis.name/js/clean-blog.js"></script>
    <script src="https://blog.stefan-michaelis.name/js/shariff.min.js"></script>

    

</body>

</html>

